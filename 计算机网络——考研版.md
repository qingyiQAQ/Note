# 第一章 计算机网络体系结构

## 1.1计算机网络概述

1、定义：计算机网络是一个将众多**分散的、自治的**计算机系统，通过**通信设备与线路**连接起来，由功能完善的**软件**实现**资源共享和信息传递**的系统。

2、组成：由若干**结点**（node）和连接这些结点的**链路**（link）组成。

3、主要功能：数据通信（信息传递）、资源共享

结点：集线器（连接多个计算机）、交换机（连接多个计算机）、路由器（连接计算机网络）

互联网（因特网）必须使用TCP/IP协议

互连网（局域网）可以使用任意协议

ISP（Internet Service Provider），互联网服务提供商

4、组成：

从组成部分看：硬件（主机、通信设备、链路）、软件、协议

从工作方式看：边缘部分（主机、软件）、核心部分（网络、路由器）

从逻辑功能看：资源子网，通信子网

5、功能：

数据通信（最基本，最重要）、资源共享、分布式处理、提高可靠性、负载均衡

6、分类

（1）分布范围：广域网WAN、城域网MAN、局域网LAN、个人区域网PAN

广域网采用交换技术，局域网采用广播技术（以太网技术）

（2）传输方式：广播式网络（局域）、点对点网络（广域）

（3）拓扑结构：总线（集线器，广播式）、星型（以太网交换机）、环形（令牌环）、网状（广域）

（4）使用者：公用网、私用网（银行）

（5）交换技术

**电路交换**：建立连接、传输数据、断开连接
（时延小、线路利用率低、无差错控制）

**报文交换**（存储-转发网络）：整个报文传送到相邻结点，全部存储后查找转发表，转发到下一个结点
（资源开销大、线路利用充分）

**分组交换**（包交换）：将数据分为固定长度数据块，加上包头制成报文再转发
（时延较小、易于管理）

7、性能指标

带宽：数字信道上传输速率的**最大**值，单位：b/s

时延：需要的时间，单位：s（包括：发送时延，传播时延）

![image-20240821141801036](C:\Users\CC507\AppData\Roaming\Typora\typora-user-images\image-20240821141801036.png)

时延带宽积：传播时延*信道带宽，单位：b

往返时延（RTT）：发送端**发送完**信息到收到来自接收端确认的时间。

![image-20240821141219562](C:\Users\CC507\AppData\Roaming\Typora\typora-user-images\image-20240821141219562.png)

吞吐量：单位时间内通过某个网络（信道）的数据量

速率：传输速率

信道利用率：有数据通过的时间/总时间

![image-20240821140837195](C:\Users\CC507\AppData\Roaming\Typora\typora-user-images\image-20240821140837195.png)

8、**最早的计算机网络**：**ARPAnet**

## 1.2计算机网络体系结构与参考模型

1、基本概念：

服务数据单元（SDU）：用户需要传输的数据

协议控制信息（PCI）：控制协议操作的信息，如：头部

协议数据单元（PDU）：对等层次之间传送的数据单位

n-PDU = n-PCI+n-SDU = (n-1)-SDU

2、协议、接口、服务

协议：为进行网络中的数据交换而建立的规则、标准或约定。（由语法、语义、同步组成）

接口：同一结构相邻两层间交换信息的连接点，通过**服务访问点（SAP）**进行交互。

服务：下层为紧邻的上层的功能调用。（服务原语：请求，指示，响应，证实）

面向连接的服务：通信之前必须建立连接，如TCP。
无连接的服务：IP、UDP

可靠服务：保证数据正确可靠的传输到目的地，如TCP
不可靠服务：如UDP

有应答服务、无应答服务

3、ISO/OSI参考模型

自下而上，低三层为**传输子网**，高三层为**资源子网**。

（1）物理层：传输单位是**原始比特流**，定义数据终端设备（DTE）和数据通信设备（DCE）的物理与逻辑连接方法。协议有：EIA-232C、EIA/TIA RS-449、CCITT等。

（2）数据链路层

传输单位是**帧**，功能为**成帧**、**差错控制**、**流量控制**和**传输管理**。协议有：SDLC、HDLC、PPP、STP、帧中继等。

（3）网络层

传输单位是**数据报或分组**，为分组交换网上的不同主机提供通信服务，功能有**路由选择**、**分组转发**、**拥塞控制**、**网际互连**、**差错控制**、**流量控制**、**连接建立与释放**、**可靠传输**。协议有：IP、IPX、ICMP、IGMP、ARP、RARP、OSMF等。

（4）传输层

传输单位是**段或报文段（TCP）或用户数据报（UDP）**，负责主机中两个**进程**的通信，功能有**复用和分用**、**流量控制**、**差错控制**、**服务质量**、**数据传输管理**。协议有：UDP、TCP。

（5）会话层

允许不同主机上的各个进程进行会话（SYN），功能有**建立、管理以及终止进程间的会话**，**数据同步**。（检查点机制：通信失效时从检查点恢复通信）

（5）表示层

传输单位是**报文**。处理两个通信系统中交换信息的方式。功能有**数据压缩**、**加密和解密**。协议有：YSCS。（数据格式转化）

（6）应用层

用户与网络界面，协议有：FTP（文件传输）、SMTP（电子邮件）、HTTP（万维网）。

![image-20240822150256357](C:\Users\CC507\AppData\Roaming\Typora\typora-user-images\image-20240822150256357.png)

![image-20240822151907059](C:\Users\CC507\AppData\Roaming\Typora\typora-user-images\image-20240822151907059.png)

![image-20240822151948984](C:\Users\CC507\AppData\Roaming\Typora\typora-user-images\image-20240822151948984.png)

4、TCP/IP模型

从低到高

（1）网络接口层（物理层+数据链路层）

（2）网际层

（3）传输层

（4）应用层（会话层+表示层+应用层）

**网络层及以下层的传输不再可靠**（尽最大努力），在传输层进行差错控制、流量控制、可靠传输管理。

![image-20240822172114193](C:\Users\CC507\AppData\Roaming\Typora\typora-user-images\image-20240822172114193.png)

5、学习模型

（1）物理层

（2）数据链路层

（3）网络层

（4）传输层

（5）应用层

# 第二章 物理层

## 2.1通信基础

1、基本概念

数据：传送信息的实体

信源：产生和发送数据的源头

信宿：接收数据的终点

信道：信号的通道，通常包含**发送信道**和**接收信道**

信号：数字的载体，分为**数字信号**（离散）和**模拟信号**（连续）

**码元**：用一个固定时长的信号波形表示一位k进制数字（一个码元携带3bit的数据则为2^3^=8进制码元）

**波特率**（码元传输速率）：每秒传输的码元个数，单位：码元/秒，波特

**带宽**：某信道允许通过的信号频带范围，单位：Hz

2、奈奎斯特定理

对于一个理想低通信道（没有噪声，带宽有限）最多可以传输2W个码元

W是信道的**频率带宽**

极限波特率=2W（单位：波特）=2W*log~2~K（单位：bps）

K为不同码元的个数

3、香农定理

对于一个有噪声，带宽有限的信道

极限比特率=Wlog~2~(1+S/N)（单位：b/s）

**信噪比**=S/N=信号功率/噪声功率（无单位）（采用这个）

信噪比=10log~10~S/N（单位：分贝db）

3、编码与调制

调制：将数据变换为模拟数据（光猫）

编码：将数据变换为数字信号（网卡）

常用的编码方式：

![image-20240823132155991](C:\Users\CC507\AppData\Roaming\Typora\typora-user-images\image-20240823132155991.png)

以太网使用**曼彻斯特**

常用的调制方式：

![image-20240823133548934](C:\Users\CC507\AppData\Roaming\Typora\typora-user-images\image-20240823133548934.png)

**正交振幅调制**（QAM）同时调节**振幅**和**相位**

## 2.2传输介质

1、双绞线

两根导线相互**绞合**而成，用于**局域网，电话网**

有屏蔽层=屏蔽双绞线（STP）
无屏蔽层=非屏蔽双绞线（UTP）

绞合是为了提升抗干扰能力

2、同轴电缆

内导体+外导体屏蔽层

抗干扰能力**更好**

内导体越粗->电阻越低->传输距离越长

3、光纤

单模：只有一条光线在光纤中传输，适合**远距离**
多模（MMF）：多条光线在一条光纤中传输，适合**近距离**

抗干扰能力**最好**

传输距离极好

4、介质命名规范

速度单位Mbps

介质信息：不写（同轴电缆）、F（光纤）、T（双绞线）

![image-20240823204541796](C:\Users\CC507\AppData\Roaming\Typora\typora-user-images\image-20240823204541796.png)

5、无线电波

应用：手机、WiFi

特点：穿透能力强、传输距离长、信号指向性弱

6、微波通信

应用：卫星通信

特点：频率带宽高、信号指向性强、保密性差

7、物理层接口特性

机械特性（参数）、电气特性（限制）、功能特性（意义）、过程特性（顺序）

![image-20240823205242919](C:\Users\CC507\AppData\Roaming\Typora\typora-user-images\image-20240823205242919.png)

## 3.3物理层设备

1、中继器

对信号进行**再生**和**还原**

两端是完全相同的两类网络

不能存储转发

**5-4-3规则**：最多4个中继器连接5个传输介质，挂接不超过3个计算机

2、集线器（Hub）

多端口中继器

对信号进行**再生放大**，发送到其他所有端口上

会产生**冲突**

